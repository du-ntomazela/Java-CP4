Estoque ‚Äî Aplica√ß√£o Java (JDBC) com camadas Service/DAO

Aplica√ß√£o simples de controle de estoque que demonstra:

Modelagem de dom√≠nio com heran√ßa/polimorfismo (Item, Louca, Alimentos);

Padr√£o DAO para persist√™ncia via JDBC;

Camada de Servi√ßo para regras de neg√≥cio (e orquestra√ß√£o de CRUD);

Singleton de conex√£o (ConexaoBD) para centralizar o acesso ao banco.

Objetivo principal: registrar no banco toda vez que um novo item √© criado, mantendo o dom√≠nio desacoplado de JDBC/SQL.

üìÇ Estrutura do projeto
src/
‚îî‚îÄ br/com/restaurante/estoque/
   ‚îú‚îÄ ConexaoBD.java          // Singleton da Connection (H2/Oracle)
   ‚îú‚îÄ Item.java               // Entidade abstrata (id, nome, qtd, capacidade)
   ‚îú‚îÄ Louca.java              // Subtipo de Item (limpo, material)
   ‚îú‚îÄ Alimentos.java          // Subtipo de Item (validadeDias)
   ‚îú‚îÄ EstoqueDAO.java         // Contrato do CRUD
   ‚îú‚îÄ EstoqueDAOImpl.java     // JDBC/SQL + mapItem(ResultSet‚ÜíObjeto)
   ‚îú‚îÄ EstoqueService.java     // Regras/orquestra√ß√£o: criarERegistrar, listar, etc.
   ‚îî‚îÄ App.java                // Exemplo de execu√ß√£o (main)
script.sql                    // DDL para criar a tabela ESTOQUE (Oracle)

üß† Por que cada classe existe

ConexaoBD: garante uma √∫nica conex√£o configurada (URL/credenciais) e facilita trocar de banco.

Item / Louca / Alimentos: representam o dom√≠nio; o que √© comum fica em Item, especializa√ß√µes nos subtipos.

EstoqueDAO / EstoqueDAOImpl: isolam JDBC/SQL do resto da aplica√ß√£o. mapItem(rs) transforma linha ‚Üí objeto concreto.

EstoqueService: aplica regras e orquestra o fluxo. O m√©todo criarERegistrar(item) centraliza a cria√ß√£o com persist√™ncia.

App: ponto de entrada que demonstra o CRUD completo.

‚öôÔ∏è Requisitos

Java 17 (ou 11+) instalado e no PATH.

JDBC driver do banco que voc√™ ir√° usar:

H2 (em mem√≥ria): arquivo h2*.jar;

Oracle: arquivo ojdbc8.jar.

Coloque o .jar do driver no classpath ao compilar/rodar.

‚ñ∂Ô∏è Como executar
Op√ß√£o A) Rodar no IDE (VS Code/IntelliJ/Eclipse)

Abra a pasta do projeto.

Certifique-se de que o driver JDBC do banco est√° configurado no projeto (ou adicionado ao classpath de execu√ß√£o).

Abra br.com.restaurante.estoque.App e rode a classe (bot√£o Run).

Observe o console: cria√ß√£o, listagem, atualiza√ß√£o e exclus√£o de itens.

Se usar H2 em mem√≥ria, a ConexaoBD pode conter um trecho que cria a tabela automaticamente.
Se usar Oracle, ajuste a ConexaoBD e execute o script.sql antes do primeiro run.

Op√ß√£o B) Linha de comando (H2 em mem√≥ria)

Baixe o h2*.jar e coloque-o na pasta do projeto (ou informe o caminho completo no classpath).

Compile:

Windows (PowerShell/CMD):

javac -cp ".;h2.jar" -d out src/br/com/restaurante/estoque/*.java


Linux/macOS (bash/zsh):

javac -cp ".:h2.jar" -d out src/br/com/restaurante/estoque/*.java


Execute:

Windows:

java -cp "out;h2.jar" br.com.restaurante.estoque.App


Linux/macOS:

java -cp "out:h2.jar" br.com.restaurante.estoque.App

Op√ß√£o C) Linha de comando (Oracle)

Ajuste ConexaoBD.java com URL/USU√ÅRIO/SENHA do seu ambiente Oracle (ex.: jdbc:oracle:thin:@localhost:1521:XE).

Execute o script.sql no seu schema para criar a tabela ESTOQUE.

Tenha o ojdbc8.jar acess√≠vel e compile:

Windows:

javac -cp ".;ojdbc8.jar" -d out src/br/com/restaurante/estoque/*.java


Linux/macOS:

javac -cp ".:ojdbc8.jar" -d out src/br/com/restaurante/estoque/*.java


Rode:

Windows:

java -cp "out;ojdbc8.jar" br.com.restaurante.estoque.App


Linux/macOS:

java -cp "out:ojdbc8.jar" br.com.restaurante.estoque.App

‚úÖ O que voc√™ ver√° ao rodar

Sa√≠da semelhante (exemplo):

Itens cadastrados no banco:
ID=1 | TIPO=LOUCA    | NOME=Prato de Porcelana | QTD=50 | CAP=25
ID=2 | TIPO=ALIMENTO | NOME=Arroz 5kg          | QTD=20 | CAP=5
...


A aplica√ß√£o demonstra cria√ß√£o, listagem, atualiza√ß√£o (ex.: alterar material/limpeza de Louca) e exclus√£o (ex.: remover Alimentos).

üîß Personaliza√ß√µes comuns

Trocar de banco: altere somente ConexaoBD (URL/credenciais/DDL).

Valida√ß√µes de neg√≥cio: adicione no EstoqueService (ex.: qtd >= 0, capacidade > 0).

Novos tipos de Item: crie outra subclasse e adapte o mapItem(rs) no DAO.

Logs/auditoria: centralize no EstoqueService (ex.: registrar eventos ap√≥s salvar).

üóÑÔ∏è DDL (Oracle)

O arquivo script.sql cont√©m:

CREATE TABLE ESTOQUE (
    ID             NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    TIPO           VARCHAR2(20)    NOT NULL,
    NOME           VARCHAR2(100)   NOT NULL,
    QTD            NUMBER          NOT NULL,
    CAPACIDADE     NUMBER          NOT NULL,
    LIMPO          CHAR(1),
    MATERIAL       VARCHAR2(50),
    VALIDADE_DIAS  NUMBER
);

üë• Integrantes

Eduardo Tomazela ‚Äî rm: 556807

L√©o Kenzo ‚Äî rm: 557768

Luiz Henrique ‚Äî rm: 555235
